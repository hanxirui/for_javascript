<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.riil.resmodel.dao.impl.PolicyThresholdDao">

	<resultMap id="PolicyThresholdResultMap" type="com.riil.base.resmodel.pojo.policy.PolicyThresholdPojo">
		<result property="exp1" column="C_EXP1" javaType="string" jdbcType="VARCHAR" />
		<result property="exp2" column="C_EXP2" javaType="string" jdbcType="VARCHAR" />
		<result property="exp3" column="C_EXP3" javaType="string" jdbcType="VARCHAR" />
		<result property="expDesc1" column="C_EXP_DESC1" javaType="string" jdbcType="VARCHAR" />
		<result property="expDesc2" column="C_EXP_DESC2" javaType="string" jdbcType="VARCHAR" />
		<result property="expDesc3" column="C_EXP_DESC3" javaType="string" jdbcType="VARCHAR" />
		<result property="id" column="C_ID" javaType="string" jdbcType="VARCHAR" />
		<result property="metricId" column="C_METRIC_ID" javaType="string" jdbcType="VARCHAR" />
		<result property="policyId" column="C_POLICY_ID" javaType="string" jdbcType="VARCHAR" />
		<result property="tag1" column="C_TAG1" javaType="string" jdbcType="VARCHAR" />
		<result property="tag2" column="C_TAG2" javaType="string" jdbcType="VARCHAR" />
		<result property="dayOrWeek" column="C_DAY_OR_WEEK" javaType="string" jdbcType="VARCHAR" />
		<result property="weeks" column="C_WEEKS" javaType="string" jdbcType="VARCHAR" />
		<result property="startTime" column="C_START_TIME" javaType="string" jdbcType="VARCHAR" />
		<result property="endTime" column="C_END_TIME" javaType="string" jdbcType="VARCHAR" />
		<!-- <result property="timeExp" column="C_TIME_EXP" javaType="string" jdbcType="VARCHAR" /> -->
	</resultMap>
	<select id="select_by_all" resultMap="PolicyThresholdResultMap">
		SELECT
		t.c_exp1,
		t.c_exp2,
		t.c_exp3,
		t.c_exp_desc1,
		t.c_exp_desc2,
		t.c_exp_desc3,
		t.c_metric_id,
		t.c_policy_id,
		t.c_tag1,
		t.c_tag2,
		t.c_end_time,
		t.c_start_time,
		t.c_weeks,
		t.c_day_or_week,
		t.c_id
		FROM
		t_moni_policy_threshold t
    </select>
	<!-- Select POJO object by ID -->
	<select id="select_by_policyId_metricId" parameterType="java.util.Map" resultMap="PolicyThresholdResultMap">
		SELECT
		t.c_exp1,
		t.c_exp2,
		t.c_exp3,
		t.c_exp_desc1,
		t.c_exp_desc2,
		t.c_exp_desc3,
		t.c_metric_id,
		t.c_policy_id,
		t.c_tag1,
		t.c_tag2,
		t.c_end_time,
		t.c_start_time,
		t.c_weeks,
		t.c_day_or_week,
		t.c_id
		FROM
		t_moni_policy_threshold t
		WHERE
		t.c_policy_id = #{policyId ,jdbcType=VARCHAR} AND
		t.C_METRIC_ID = #{metricId ,jdbcType=VARCHAR} ORDER BY C_START_TIME
    </select>
</mapper>
